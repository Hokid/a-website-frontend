/**
 * 1. При наличии вертикальных margin > 0 первого/последнего элемента
 * блока-родителя отталкивание происходит не от границ блока-родителя,
 * а от границ соседа блока-родителя. вертикальные padding: 1px
 * исправляют эту проблему.
 *
 * ...
 * </сосед>
 * <блок-родитель>
 *   <элемент с margin-top>
 *   <элемент с margin-bottom>
 * </блок-родитель>
 * <сосед>
 * ...
 */

@at-root {

  /// Параметры
  $ava-size: 50px;
  $margin-left-body: ($ava-size)+8px;
  $font-family: 'roboto','Arial',sans-serif;
  $min-height-textarea: 100px;
  $v-padding-item: 6px;
  $v-padding-box: 10px;

  /// Цвета
  $color-txt-owner: #4CD2EA;
  $color-txt: hsl(238, 67%, 16%);



  .comments {
    padding-top: 1px; /* 1 */
    padding-bottom: 1px; /* 1 */

    &__title {
      font-family: $font-family;
      line-height: 1.5;
      padding-bottom: em(15px);
    }

    &__box {
      padding-top: 1px; /* 1 */
      padding-bottom: em($v-padding-box);

      &--nested {
        margin-left: em($margin-left-body);
      }
    }

    &__add { margin-bottom: 30px; }

    &__textarea {
      max-width: 100%;
      min-height: em($min-height-textarea);
      width: 100%;
    }

    &__item {
      padding-top: em($v-padding-item);
      padding-bottom: em($v-padding-item);
    }

    &__ava {

      @include size(em($ava-size));

      float: left;

      img {

        @include size(100%);

        display: block;
      }
    }

    &__body {
      margin-left: em($margin-left-body);
      line-height: 1.3;
    }

    &__owner {
      display: inline;
      margin-right: em(5px);
      font-weight: bold;
      color: $color-txt-owner;

      &:hover,
      &:focus { text-decoration: underline; }
    }

    &__meta {
      display: inline;
      padding-left: em(6px,14px);
      padding-right: em(6px,14px);
      background-color: #F0F0F0;
      border-radius: 3px;
      color: #A5A5A5;
      font-size: em(14px);
    }

    &__txt {
      padding-top: em(4px);
      padding-bottom: em(4px);
      font-family: $font-family;
      line-height: 1.3;
      color: $color-txt;
    }

    &__actions {
      padding-top: em(4px);
      padding-bottom: em(4px);
    }

    &__action {
      display: inline-block;
      vertical-align: middle;

      & + & { margin-left: em(7px); }
    }
  }
}
